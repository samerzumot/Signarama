{% comment %}
  Monolithic Product Details Template
  Contains all data, logic, and layout in one file to bypass registry issues.
{% endcomment %}

{% assign handle = page.handle %}
{% assign title = nil %}

<!-- DATA CONFIGURATION -->
{% if handle == '3d-signs-lettering' or handle == '3d-signs-lettering-1' %}
    {% assign title = "3D Signs & Lettering" %}
    {% assign description = "Custom 3D illuminated and non-illuminated signs that provide depth and impact for your brand." %}
    {% assign long_description = "Our 3D lettering is precision-engineered to make your brand stand out. Crafted from premium aluminum, high-grade acrylic, or PVC, these letters are weather-resistant and offer a high-end look for any building facade." %}
    {% assign main_image = "king-dental.jpg" %}
    {% assign gallery_images = "3d-boss-leather.jpg,3d-pain-specialists.jpg,3d-2016-photo.jpg,3d-46856.jpg,3d-5.png,3D%20Lettering.webp,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/TrimDepot.jpg?v=1666724364,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/AquaStar.jpg?v=1666724374,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/Elite.jpg?v=1666724374" | split: ',' %}

{% elsif handle == 'channel-letters' or handle == 'channel-letters-1' %}
    {% assign title = "Channel Letters" %}
    {% assign description = "Vibrant, individual LED-illuminated letters that offer maximum visibility night and day." %}
    {% assign long_description = "Channel letters are the industry standard for storefront visibility. Each letter is individually crafted and features internal LED illumination, available in front-lit or halo-lit configurations to match your brand style." %}
    {% assign main_image = "channel.webp" %}
    {% assign gallery_images = "channel.webp,channel-one.png,channel-pullman-2.jpg,channel-unknown.jpg,channel-walking-on-a-cloud-2.jpg,channel-9601.jpg,channel-allmart-2.jpg,channel-avalee-2.jpg,channel-canaroma-2.jpg,channel-ethan-allen-2.jpg,channel-freshii-2.jpg,channel-makers-2.jpg,channel-mazzzing-2.jpg,channel-norma-reed-2.jpg,channel-allmart.jpg,channel-avalee.jpg,channel-canaroma.jpg,channel-ethan-allen.jpg,channel-freshii.jpg,channel-makers.jpg,channel-mazzzing.jpg,channel-norma-reed.jpg,channel-pullman.jpg,channel-walking-on-a-cloud.jpg,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/fiveguys.png?v=1615739236,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/ProtegeOutdoorLiving-NightView.jpg?v=1666722082,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/WalkingOnACloud_1.jpg?v=1666722082" | split: ',' %}

{% elsif handle == 'light-boxes' or handle == 'light-boxes-1' %}
    {% assign title = "Light Boxes" %}
    {% assign description = "Classic illuminated cabinets with bright, professional translucent graphics." %}
    {% assign long_description = "Light boxes offer a versatile and cost-effective way to illuminate your business message. Built with durable aluminum frames and energy-efficient LED lighting, they are perfect for both exterior storefronts and interior menu boards." %}
    {% assign main_image = "illuminated.webp" %}
    {% assign gallery_images = "lightbox-47815-fd6.jpg,lightbox-47815-76c.jpg,lightbox-47815-a7f.jpg,illuminated.webp,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/39856390854_56d678ee0b_o.jpg?v=1615759400,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/40748145933_6fa81be0fa_o.jpg?v=1615759338" | split: ',' %}

{% elsif handle == 'pylon-signs' or handle == 'pylon-signs-1' %}
    {% assign title = "Pylon Signs" %}
    {% assign description = "High-visibility freestanding signs designed to grab attention from a distance." %}
    {% assign long_description = "Pylon signs are landmark identifiers for shopping centers and corporate offices. We design and install durable, high-impact pylons that help your business capture traffic from busy roads and highways." %}
    {% assign main_image = "pylon.webp" %}
    {% assign gallery_images = "pylon-brock-road-refresh.jpg,pylon-img-2148.jpg,pylon-img-2712.jpg,pylon-love-and-paws.jpg,pylon-photo-2023.jpg,pylon-resized-2024.jpg,pylon-whatsapp-2025.jpg,pylon.webp,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/1_a44cbcbf-430d-4cbb-9a01-f89e6ca69ed1.png?v=1615759593" | split: ',' %}

{% elsif handle == 'indoor-signs' or handle == 'indoor-signs-1' %}
    {% assign title = "Indoor Signs" %}
    {% assign description = "Professional interior branding solutions for reception areas, offices, and lobbies." %}
    {% assign long_description = "From corporate logos to directional wayfinding, our indoor sign solutions are designed to enhance your interior space. We use premium finishes like brushed metal and glass-look acrylic to create an environment of professionalism." %}
    {% assign main_image = "office.webp" %}
    {% assign gallery_images = "indoor-cml.jpg,indoor-dael-thermal.jpg,indoor-frame-55.png,indoor-kiosoft.jpg,indoor-paulas-wig-boutique.jpg,indoor-walking-on-a-cloud.jpg,indoor-3.png,indoor-4.png,indoor-sejj-jr.jpg,office.webp,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/TruBliss3.jpg?v=1615759949,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/Innovatusjpg.jpg?v=1615759950,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/47052091244_17ecb2cb10_o.jpg?v=1615759462" | split: ',' %}

{% elsif handle == 'vehicle-graphics' or handle == 'vehicle-graphics-1' %}
    {% assign title = "Vehicle Graphics" %}
    {% assign description = "Turn your vehicle into a mobile billboard with custom graphics and wraps." %}
    {% assign long_description = "Maximize your marketing reach on the road. Our vehicle graphics range from simple door logos to full commercial wraps, all using high-performance vinyl materials that protect your vehicle while promoting your brand." %}
    {% assign main_image = "https://cdn.shopify.com/s/files/1/0553/3034/1058/products/ubereats1.jpg?v=1615759542" %}
    {% assign gallery_images = "vehicle-hongmall.jpg,vehicle-eco-compact.jpg,vehicle-ecotech.jpg,vehicle-humber.jpg,vehicle-fix-easy.jpg,vehicle-flooring-canada.jpg,vehicle-frame-53.png,vehicle-ice-cream.jpg,vehicle-planet-concrete.png,vehicle-pullman.jpg,vehicle-rosegold.jpg,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/ubereats1.jpg?v=1615759542,vehicle.webp,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/dermameat2.jpg?v=1666721592" | split: ',' %}

{% elsif handle == 'window-graphics' or handle == 'window-graphics-1' %}
    {% assign title = "Window Graphics" %}
    {% assign description = "Custom window decals and frostings for privacy and promotions." %}
    {% assign long_description = "Transform your storefront windows into powerful marketing real estate. We offer everything from promotional decals to elegant frosted film for office privacy, all with professional installation and clean removal." %}
    {% assign main_image = "window.webp" %}
    {% assign gallery_images = "window-20210519.jpg,window-di-paola.jpg,window-divine.jpg,window-humber-college.jpg,window-img-0307.jpg,window-img-0312.jpg,window-mary-browns.jpg,window-spa.jpg,window.webp,https://cdn.shopify.com/s/files/1/0553/3034/1058/products/Happysmile2.jpg?v=1615759866" | split: ',' %}

{% elsif handle == 'construction-signs' or handle == 'construction-signs-1' %}
    {% assign title = "Construction Signs" %}
    {% assign description = "Durable site signage for development, safety, and branding." %}
    {% assign long_description = "Keep your job site safe and professional. We provide a full range of construction signage, including project renderings, safety notices, and large-scale hoarding graphics that build excitement for your new development." %}
    {% assign main_image = "construction.webp" %}
    {% assign gallery_images = "construction-1.png,construction-2.png,construction-foresight.jpg,construction.webp" | split: ',' %}

{% elsif handle == 'digital-signs' or handle == 'digital-signs-1' %}
    {% assign title = "Digital Signs" %}
    {% assign description = "Modern LED displays for dynamic messaging and high-impact advertising." %}
    {% assign long_description = "Stay ahead of the competition with dynamic digital displays. Our LED message centers allow you to change your content instantly, providing a high-impact, modern way to communicate with your customers in real-time." %}
    {% assign main_image = "digital.webp" %}
    {% assign gallery_images = "digital-yonge-st.jpg,digital-goldhawk.jpg,digital-full-color-p10.jpg,digital-haviland-school.jpg,digital-sweetwater.jpg,digital-crossings.jpg,digital-1-ff8b.png,digital-img-3762.jpg,digital-walkerpoints.jpg,digital.webp" | split: ',' %}

{% elsif handle == 'awning-graphics' or handle == 'awning-graphics-1' %}
    {% assign title = "Awning Graphics" %}
    {% assign description = "Stylish and functional awnings to enhance your storefront and provide shade." %}
    {% assign long_description = "Awnings provide a perfect blend of form and function. They offer shelter for your customers while serving as a prominent location for your branding. We design custom awning graphics that are weather-resistant and visually striking." %}
    {% assign main_image = "awning-1.jpg" %}
    {% assign gallery_images = "awning-1.jpg,awning-2.jpg,awning-5.png,awning-7.png,awning-boss-leather.jpg,awning-harps.jpg,awning-img-0334.jpg" | split: ',' %}

{% elsif handle == 'led-backlit' or handle == 'led-backlit-1' %}
    {% assign title = "LED Backlit Signs" %}
    {% assign description = "High-impact illuminated signs with a sophisticated halo effect." %}
    {% assign long_description = "Create a premium look with LED backlit signs. These \"halo-lit\" letters provide a soft, elegant glow that outlines your text or logo, making your signage pop against the building facade with a modern, upscale appeal." %}
    {% assign main_image = "led-32897.jpg" %}
    {% assign gallery_images = "led-32897.jpg,led-32897-2.jpg,led-46925.jpg,led-47052.jpg,led-47052-2.jpg,led-47789.jpg" | split: ',' %}

{% elsif handle == 'storefront-signs' or handle == 'storefront-signs-1' %}
    {% assign title = "Storefront Signs" %}
    {% assign description = "Complete storefront solutions including fascias, window lettering, and illuminated signs." %}
    {% assign long_description = "Make a powerful first impression with our complete storefront signage solutions. We design, fabricate, and install everything from main fascia signs to window graphics and A-frames, ensuring your entire storefront communicates your brand effectively." %}
    {% assign main_image = "storefront-main.png" %}
    {% assign gallery_images = "storefront-main.png,storefront-1.png,storefront-3.png,storefront-4.png,storefront-5.png,storefront-booster-juice.jpg,storefront-homecare.jpg,storefront-smoke-bbq.jpg,storefront-vacation.jpg,storefront-wicks-vape.jpg" | split: ',' %}

{% endif %}

<!-- RENDER LOGIC -->
{% if title %}
  <!-- JSON-LD Structured Data for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org/",
    "@type": "Service",
    "name": "{{ title }}",
    "image": [
      {% if main_image contains 'http' %}"{{ main_image }}"{% else %}"{{ main_image | asset_url }}"{% endif %}
    ],
    "description": "{{ description }}",
    "provider": {
      "@type": "LocalBusiness",
      "name": "Signarama Vaughan",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "3300 Steeles Ave W",
        "addressLocality": "Vaughan",
        "addressRegion": "ON",
        "postalCode": "L4K 2Y4",
        "addressCountry": "CA"
      },
      "telephone": "+19056699313"
    },
    "areaServed": "Toronto, Vaughan, Richmond Hill, Markham"
  }
  </script>

  <!-- Page Content -->
  <div class="product-details-page">
    <div class="page-width container">
      
      <!-- Hero / Main Product Section -->
      <div class="product-hero">
        <div class="product-image-container">
           {% if main_image contains 'http' %}
             <img src="{{ main_image }}" alt="{{ title }} - Main Image" id="main-product-image" width="800" height="600" style="width: 100%; height: auto; object-fit: contain;">
           {% else %}
             <img src="{{ main_image | asset_url }}" alt="{{ title }} - Main Image" id="main-product-image" width="800" height="600" style="width: 100%; height: auto; object-fit: contain;">
           {% endif %}
        </div>
        
        <div class="product-info">
          <h1 class="product-title">{{ title }}</h1>
          <p class="product-description-short">{{ description }}</p>
          <p class="product-description-long">{{ long_description }}</p>
          
          <div class="cta-wrapper">
             <!-- Wired to open the Quote Modal -->
             <button id="product-quote-trigger" class="btn-primary" data-product="{{ title }}">Get {{ title }} Quote</button>
          </div>
        </div>
      </div>

      <hr style="margin: 3rem 0; border: 0; border-top: 1px solid #eee;">

      <!-- Image Gallery (Horizontal Scroll) -->
      <div class="product-gallery">
        <h3>Gallery</h3>
        <div class="gallery-scroll-container">
          {% for img in gallery_images %}
            <div class="gallery-item">
              {% if img contains 'http' %}
                 <img src="{{ img }}" alt="{{ title }} Gallery Image {{ forloop.index }}" loading="lazy">
              {% else %}
                 <img src="{{ img | asset_url }}" alt="{{ title }} Gallery Image {{ forloop.index }}" loading="lazy">
              {% endif %}
            </div>
          {% endfor %}
        </div>
      </div>

    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const quoteBtn = document.getElementById('product-quote-trigger');
      const modal = document.getElementById('quote-modal');
      
      if (quoteBtn && modal) {
        quoteBtn.addEventListener('click', function(e) {
          e.preventDefault();
          
          // Pre-fill the message area if it exists
          const messageArea = modal.querySelector('textarea[name="message"]');
          if (messageArea) {
             const productName = this.getAttribute('data-product');
             // Only set if empty or standard text
             if (!messageArea.value || messageArea.value.trim() === '') {
                 messageArea.value = "I am interested in a quote for " + productName + ".";
             }
          }
          
          // Show Modal
          modal.classList.add('active');
          document.body.style.overflow = 'hidden';
        });
      }
    });

    // Gallery Click to Swap (Optional enhancement)
    const mainImage = document.getElementById('main-product-image');
    if (mainImage) {
        document.querySelectorAll('.gallery-item img').forEach(img => {
            img.addEventListener('click', function() {
                mainImage.src = this.src;
            });
            img.style.cursor = 'pointer';
        });
    }
  </script>

  <style>
    .product-details-page {
      padding: 4rem 0;
    }
    .page-width.container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
    }
    .product-hero {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      margin-bottom: 4rem;
      align-items: center;
    }
    .product-title {
      font-size: 2.5rem;
      font-weight: 800;
      color: #d32f2f;
      margin-bottom: 1rem;
      line-height: 1.2;
    }
    .product-description-short {
      font-size: 1.2rem;
      font-weight: 700;
      color: #333;
      margin-bottom: 1rem;
    }
    .product-description-long {
      font-size: 1rem;
      line-height: 1.6;
      color: #555;
      margin-bottom: 2rem;
    }
    
    /* Horizontal Scroll Gallery */
    .gallery-scroll-container {
      display: flex;
      overflow-x: auto;
      gap: 15px;
      padding-bottom: 20px; /* Space for scrollbar */
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: thin; /* Firefox */
      scrollbar-color: #d32f2f #f1f1f1;
    }
    .gallery-scroll-container::-webkit-scrollbar {
      height: 8px;
    }
    .gallery-scroll-container::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 4px;
    }
    .gallery-scroll-container::-webkit-scrollbar-thumb {
      background: #d32f2f;
      border-radius: 4px;
    }
    
    .gallery-item {
      flex: 0 0 280px; /* Fixed width for consistent items */
      height: 200px;
      scroll-snap-align: start;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: transform 0.2s;
    }
    .gallery-item:hover {
      transform: translateY(-2px);
    }
    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .btn-primary {
      background-color: #d32f2f;
      color: white !important;
      padding: 1rem 2rem;
      border: none;
      border-radius: 5px;
      font-size: 1.1rem;
      font-weight: 700;
      cursor: pointer;
      text-transform: uppercase;
      text-decoration: none;
      display: inline-block;
      transition: background-color 0.2s;
    }
    .btn-primary:hover {
      background-color: #b01f15;
    }

    @media (max-width: 768px) {
      .product-hero {
        grid-template-columns: 1fr;
        gap: 2rem;
      }
      .cta-wrapper {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        padding: 1rem;
        background: white;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        z-index: 1000;
        text-align: center;
      }
      .btn-primary {
        width: 100%;
      }
      .page-width.container {
        padding-bottom: 80px;
      }
      .gallery-item {
        flex: 0 0 220px; /* Smaller items on mobile */
        height: 160px;
      }
    }
  </style>

{% else %}
  <div class="container page-width" style="padding: 6rem 0; text-align: center;">
    <h2>Product Not Found</h2>
    <p>We could not retrieve details for: <strong>{{ handle }}</strong></p>
    <a href="/pages/contact-us" class="btn-primary" style="display:inline-block; margin-top:1rem;">Contact Us</a>
  </div>
{% endif %}
